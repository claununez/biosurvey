<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="biosurvey">
<title>biosurvey: Selecting sampling sites • biosurvey</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="biosurvey: Selecting sampling sites">
<meta property="og:description" content="biosurvey">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">biosurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/biosurvey_preparing_data.html">biosurvey: Preparing data</a>
    <a class="dropdown-item" href="../articles/biosurvey_selecting_sites.html">biosurvey: Selecting sampling sites</a>
    <a class="dropdown-item" href="../articles/biosurvey_selection_with_preselected_sites.html">biosurvey: Selecting sampling sites using preselected points</a>
    <a class="dropdown-item" href="../articles/biosurvey_testing_module.html">biosurvey: Testing efficiency of selected sites</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/claununez/biosurvey/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>biosurvey: Selecting sampling sites</h1>
                        <h4 data-toc-skip class="author">Claudia
Nunez-Penichet, Marlon E. Cobos, Jorge Soberon, Tomer Gueta, Narayani
Barve, Vijay Barve, Adolfo G. Navarro-Siguenza, A. Townsend Peterson,
Weverton Trindade (ctb), Can Elverici (ctb)</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/claununez/biosurvey/blob/HEAD/vignettes/biosurvey_selecting_sites.Rmd" class="external-link"><code>vignettes/biosurvey_selecting_sites.Rmd</code></a></small>
      <div class="d-none name"><code>biosurvey_selecting_sites.Rmd</code></div>
    </div>

    
    
<div class="section level4">
<h4 id="data-for-analysis">Data for analysis<a class="anchor" aria-label="anchor" href="#data-for-analysis"></a>
</h4>
<p>Let’s first prepare the data to continue with further processes.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"m_matrix"</span>, package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Creating blocks</span></span>
<span><span class="va">m_blocks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_blocks.html">make_blocks</a></span><span class="op">(</span><span class="va">m_matrix</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>,</span>
<span>                       variable_2 <span class="op">=</span> <span class="st">"PC2"</span>, n_cols <span class="op">=</span> <span class="fl">20</span>, n_rows <span class="op">=</span> <span class="fl">20</span>,</span>
<span>                       block_type <span class="op">=</span> <span class="st">"equal_area"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selection-of-sites-considering-environmental-uniformity-and-geographic-patterns">Selection of sites considering environmental uniformity and
geographic patterns<a class="anchor" aria-label="anchor" href="#selection-of-sites-considering-environmental-uniformity-and-geographic-patterns"></a>
</h4>
<p>The goal of this type of selection is maximizing uniformity of points
in environmental space, but considering geographic patterns of data.
Similar environments (form the same block) that have a disjoint
geographic pattern (are represented in geographic in various clusters)
are selected twice (so they consider the biggest geographic
clusters).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Selecting sites uniformly in E and G spaces</span></span>
<span><span class="va">EG_sel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EG_selection.html">EG_selection</a></span><span class="op">(</span>master <span class="op">=</span> <span class="va">m_blocks</span>, n_blocks <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span></span>
<span><span class="co">#&gt; 'use_preselected_sites' = FALSE</span></span>
<span><span class="co">#&gt; Preparing data for analysis</span></span>
<span><span class="co">#&gt; Selecting relevant environmental blocks, please wait...</span></span>
<span><span class="co">#&gt; Running algorithm for selecting sites, please wait...</span></span>
<span><span class="co">#&gt;     Process 1 of 10</span></span>
<span><span class="co">#&gt;     Process 2 of 10</span></span>
<span><span class="co">#&gt;     Process 3 of 10</span></span>
<span><span class="co">#&gt;     Process 4 of 10</span></span>
<span><span class="co">#&gt;     Process 5 of 10</span></span>
<span><span class="co">#&gt;     Process 6 of 10</span></span>
<span><span class="co">#&gt;     Process 7 of 10</span></span>
<span><span class="co">#&gt;     Process 8 of 10</span></span>
<span><span class="co">#&gt;     Process 9 of 10</span></span>
<span><span class="co">#&gt;     Process 10 of 10</span></span>
<span><span class="co">#&gt; Total number of sites selected: 15</span></span></code></pre></div>
<p><br></p>
<p>Now let’s check the results of this selection in environmental and
geographic spaces.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting sites selected considering EG</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_sel</span>, selection_type <span class="op">=</span> <span class="st">"EG"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V2_f1.png" width="288"></p>
<p><br></p>
<p>As you may have noticed, there are more points than what you defined
in the argument <em>n_blocks</em> in the function
<code>EG_selection</code>. This is because the function explores those
environmental blocks in geographic space and defines two points when the
geographic pattern of such points is clustered.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selecting-sites-randomly">Selecting sites randomly<a class="anchor" aria-label="anchor" href="#selecting-sites-randomly"></a>
</h4>
<p>Selecting survey sites randomly is one of the multiple ways to select
places to sample. Although it can be useful for avoiding some biases in
the selection, it is not recommended when trying to sample most of the
biodiversity in a region. The following lines of code will allow users
to select survey sites based on a random selection of available points.
This selection approach does not consider geographic or environmental
configurations.</p>
<p><strong>Note</strong>: We are going to use the object that resulted
from the previous process of selection (a
<strong>master_selection</strong> object) as it allows to add other sets
of selected sites to maintain your results organized.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of sites</span></span>
<span><span class="va">nsites</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">EG_sel</span><span class="op">$</span><span class="va">selected_sites_EG</span><span class="op">$</span><span class="va">selection_1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Selecting sites randomly</span></span>
<span><span class="va">EG_r_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/random_selection.html">random_selection</a></span><span class="op">(</span><span class="va">EG_sel</span>, n_sites <span class="op">=</span> <span class="va">nsites</span>, n_samplings <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span></span>
<span><span class="co">#&gt; 'use_preselected_sites' = FALSE</span></span>
<span><span class="co">#&gt; Selecting sampling sites randomly</span></span>
<span><span class="co">#&gt; Total number of sites selected: 15</span></span></code></pre></div>
<p><br></p>
<p>Checking the sites selected randomly. Note that for selections of
type “random” or “G” the arguments “variable_1” and “variable_2” need to
be defined in the plotting function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting selected sites</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_selection</span>, selection_type <span class="op">=</span> <span class="st">"random"</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, </span>
<span>              variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V2_f2.png" width="288"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selection-of-sites-aiming-for-uniformity-in-geographic-space">Selection of sites aiming for uniformity in geographic space<a class="anchor" aria-label="anchor" href="#selection-of-sites-aiming-for-uniformity-in-geographic-space"></a>
</h4>
<p>With the following lines of code, survey sites can be selected so
they are located uniformly in geographic space, without considering
environmental conditions. This allows sampling most of the areas in the
region of interest.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Selecting sites uniformly in G space</span></span>
<span><span class="va">EG_r_G_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniformG_selection.html">uniformG_selection</a></span><span class="op">(</span><span class="va">EG_r_selection</span>, expected_points <span class="op">=</span> <span class="va">nsites</span>, </span>
<span>                                       max_n_samplings <span class="op">=</span> <span class="fl">1</span>, replicates <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span></span>
<span><span class="co">#&gt; 'use_preselected_sites' = FALSE</span></span>
<span><span class="co">#&gt; Running algorithm for selecting sites, please wait...</span></span>
<span><span class="co">#&gt;     Distance  242.166565850223  resulted in  17  points</span></span>
<span><span class="co">#&gt;     Distance  266.383222435246  resulted in  13  points</span></span>
<span><span class="co">#&gt;     Distance  242.166565850223  resulted in  17  points</span></span>
<span><span class="co">#&gt;     Distance  244.588231508726  resulted in  17  points</span></span>
<span><span class="co">#&gt;     Distance  247.009897167228  resulted in  16  points</span></span>
<span><span class="co">#&gt;     Distance  249.43156282573  resulted in  16  points</span></span>
<span><span class="co">#&gt;     Distance  251.853228484232  resulted in  15  points</span></span>
<span><span class="co">#&gt; Total number of sites selected: 15</span></span></code></pre></div>
<p><br></p>
<p>Let’s check the selected sites based only on geographic
considerations.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting sites selected uniformly in the geographic space</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span>, selection_type <span class="op">=</span> <span class="st">"G"</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, </span>
<span>              variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V2_f3.png" width="288"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selecting-sites-aiming-for-uniformity-in-environmental-space">Selecting sites aiming for uniformity in environmental space<a class="anchor" aria-label="anchor" href="#selecting-sites-aiming-for-uniformity-in-environmental-space"></a>
</h4>
<p>With the following lines of code you can select sampling sites that
are uniformly distributed in environmental space. This will allow
sampling most of the environmental conditions that are present in the
region of interest.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Selecting sites uniformly in E space</span></span>
<span><span class="va">EG_r_G_E_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniformE_selection.html">uniformE_selection</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span>, expected_points <span class="op">=</span> <span class="va">nsites</span>, </span>
<span>                                         max_n_samplings <span class="op">=</span> <span class="fl">1</span>, replicates <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span></span>
<span><span class="co">#&gt; 'use_preselected_sites' = FALSE</span></span>
<span><span class="co">#&gt; Running algorithm for selecting sites, please wait...</span></span>
<span><span class="co">#&gt;     Distance  0.985888853481237  resulted in  25  points</span></span>
<span><span class="co">#&gt;     Distance  1.08447773882936  resulted in  20  points</span></span>
<span><span class="co">#&gt;     Distance  1.18306662417748  resulted in  17  points</span></span>
<span><span class="co">#&gt;     Distance  1.28165550952561  resulted in  14  points</span></span>
<span><span class="co">#&gt;     Distance  1.18306662417748  resulted in  17  points</span></span>
<span><span class="co">#&gt;     Distance  1.1929255127123  resulted in  17  points</span></span>
<span><span class="co">#&gt;     Distance  1.20278440124711  resulted in  16  points</span></span>
<span><span class="co">#&gt;     Distance  1.21264328978192  resulted in  15  points</span></span>
<span><span class="co">#&gt; Total number of sites selected: 15</span></span></code></pre></div>
<p><br></p>
<p>Let’s check the selected sites based only on environmental
considerations.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting sites selected uniformly in the environmental space</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_G_E_selection</span>, selection_type <span class="op">=</span> <span class="st">"E"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V2_f4.png" width="288"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Claudia Nuñez-Penichet, Marlon E. Cobos, Jorge Soberón, Tomer Gueta, Narayani Barve, Vijay Barve, Adolfo G. Navarro-Sigüenza, A. Townsend Peterson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
