<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="biosurvey">
<title>biosurvey: Selecting sampling sites using preselected points • biosurvey</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="biosurvey: Selecting sampling sites using preselected points">
<meta property="og:description" content="biosurvey">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">biosurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/biosurvey_preparing_data.html">biosurvey: Preparing data</a>
    <a class="dropdown-item" href="../articles/biosurvey_selecting_sites.html">biosurvey: Selecting sampling sites</a>
    <a class="dropdown-item" href="../articles/biosurvey_selection_with_preselected_sites.html">biosurvey: Selecting sampling sites using preselected points</a>
    <a class="dropdown-item" href="../articles/biosurvey_testing_module.html">biosurvey: Testing efficiency of selected sites</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/claununez/biosurvey/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>biosurvey: Selecting sampling sites using preselected points</h1>
                        <h4 data-toc-skip class="author">Claudia
Nunez-Penichet, Marlon E. Cobos, Jorge Soberon, Tomer Gueta, Narayani
Barve, Vijay Barve, Adolfo G. Navarro-Siguenza, A. Townsend Peterson,
Weverton Trindade (ctb), Can Elverici (ctb)</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/claununez/biosurvey/blob/HEAD/vignettes/biosurvey_selection_with_preselected_sites.Rmd" class="external-link"><code>vignettes/biosurvey_selection_with_preselected_sites.Rmd</code></a></small>
      <div class="d-none name"><code>biosurvey_selection_with_preselected_sites.Rmd</code></div>
    </div>

    
    
<div class="section level4">
<h4 id="data-for-analysis">Data for analysis<a class="anchor" aria-label="anchor" href="#data-for-analysis"></a>
</h4>
<p>Let’s first prepare the data to continue with further processes.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"preselected"</span>, package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mx</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/mx.gpkg"</span>, package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/variables.tif"</span>,</span>
<span>                                       package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Create master matrix object</span></span>
<span><span class="va">m_matrixp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prepare_master_matrix.html">prepare_master_matrix</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">mx</span>, variables <span class="op">=</span> <span class="va">variables</span>, </span>
<span>                                  preselected_sites <span class="op">=</span> <span class="va">preselected</span>, </span>
<span>                                  do_pca <span class="op">=</span> <span class="cn">TRUE</span>, center <span class="op">=</span> <span class="cn">TRUE</span>, scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Processing raster layers, please wait...</span></span>
<span><span class="co">#&gt; Performing PCA analysis</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">m_matrixp</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                      Summary of a master_matrix object</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data matrix summary:</span></span>
<span><span class="co">#&gt;    Longitude          Latitude     Mean_temperature Max_temperature</span></span>
<span><span class="co">#&gt;  Min.   :-118.25   Min.   :14.58   Min.   : 85.0    Min.   :180.0  </span></span>
<span><span class="co">#&gt;  1st Qu.:-107.08   1st Qu.:19.75   1st Qu.:175.0    1st Qu.:311.0  </span></span>
<span><span class="co">#&gt;  Median :-102.58   Median :24.25   Median :206.0    Median :335.0  </span></span>
<span><span class="co">#&gt;  Mean   :-102.59   Mean   :23.96   Mean   :205.6    Mean   :330.9  </span></span>
<span><span class="co">#&gt;  3rd Qu.: -98.58   3rd Qu.:27.92   3rd Qu.:238.0    3rd Qu.:354.8  </span></span>
<span><span class="co">#&gt;  Max.   : -86.75   Max.   :32.58   Max.   :291.0    Max.   :425.0  </span></span>
<span><span class="co">#&gt;  Min_temperature  Annual_precipitation Prec_wettest_month Prec_driest_month</span></span>
<span><span class="co">#&gt;  Min.   :-60.00   Min.   :  44.0       Min.   :  9.0      Min.   :  0.00   </span></span>
<span><span class="co">#&gt;  1st Qu.: 32.00   1st Qu.: 340.2       1st Qu.: 75.0      1st Qu.:  3.00   </span></span>
<span><span class="co">#&gt;  Median : 63.00   Median : 610.0       Median :143.0      Median :  5.00   </span></span>
<span><span class="co">#&gt;  Mean   : 73.66   Mean   : 764.2       Mean   :163.4      Mean   : 10.62   </span></span>
<span><span class="co">#&gt;  3rd Qu.:117.00   3rd Qu.:1052.0       3rd Qu.:224.0      3rd Qu.: 12.00   </span></span>
<span><span class="co">#&gt;  Max.   :214.00   Max.   :4103.0       Max.   :750.0      Max.   :140.00   </span></span>
<span><span class="co">#&gt;       PC1              PC2         </span></span>
<span><span class="co">#&gt;  Min.   :-2.554   Min.   :-3.0597  </span></span>
<span><span class="co">#&gt;  1st Qu.:-1.406   1st Qu.:-0.9560  </span></span>
<span><span class="co">#&gt;  Median :-0.601   Median :-0.1948  </span></span>
<span><span class="co">#&gt;  Mean   : 0.000   Mean   : 0.0000  </span></span>
<span><span class="co">#&gt;  3rd Qu.: 1.109   3rd Qu.: 0.7920  </span></span>
<span><span class="co">#&gt;  Max.   : 9.055   Max.   : 5.9662 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Region of interest:</span></span>
<span><span class="co">#&gt; class       : SpatialPolygonsDataFrame </span></span>
<span><span class="co">#&gt; features    : 1 </span></span>
<span><span class="co">#&gt; extent      : -118.4042, -86.7014, 14.55055, 32.71846  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; crs         : +proj=longlat +datum=WGS84 +no_defs </span></span>
<span><span class="co">#&gt; variables   : 11</span></span>
<span><span class="co">#&gt; names       : FIPS, ISO2, ISO3,  UN,   NAME,   AREA,   POP2005, REGION, SUBREGION,      LON,    LAT </span></span>
<span><span class="co">#&gt; value       :   MX,   MX,  MEX, 484, Mexico, 190869, 104266392,     19,        13, -102.535, 23.951</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="exploring-your-data-in-environmental-and-geographic-spaces">Exploring your data in environmental and geographic spaces<a class="anchor" aria-label="anchor" href="#exploring-your-data-in-environmental-and-geographic-spaces"></a>
</h4>
<p>The data can be explored by creating four-panel plots using two
environmental variables (at a time). The two top panels contain the
information in geographic space (one predictor per panel). The two
panels at the bottom contain information in a 2D environmental space for
the two variables. This visualization can be done using the first two
principal components that summarize most of the variance in your
variables as shown below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot using Principal Components resulted</span></span>
<span><span class="fu"><a href="../reference/explore_data_EG.html">explore_data_EG</a></span><span class="op">(</span><span class="va">m_matrixp</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V3_f1.png" width="350"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="partitioning-environmental-space-to-achieve-uniformity-in-selections">Partitioning environmental space to achieve uniformity in
selections<a class="anchor" aria-label="anchor" href="#partitioning-environmental-space-to-achieve-uniformity-in-selections"></a>
</h4>
<p>Block-like partitioning of environmental space. Here, a
two-dimensional cloud of points will be blocked according to a
user-defined number of rows and columns. These will allow us to see the
environmental space more uniformly.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Creating blocks</span></span>
<span><span class="va">m_blocks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_blocks.html">make_blocks</a></span><span class="op">(</span><span class="va">m_matrixp</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>,</span>
<span>                       variable_2 <span class="op">=</span> <span class="st">"PC2"</span>, n_cols <span class="op">=</span> <span class="fl">15</span>, n_rows <span class="op">=</span> <span class="fl">15</span>,</span>
<span>                       block_type <span class="op">=</span> <span class="st">"equal_area"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>Let’s check how the blocked environment looks like in environmental
and geographic spaces.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plotting all blocks</span></span>
<span><span class="fu"><a href="../reference/plot_blocks_EG.html">plot_blocks_EG</a></span><span class="op">(</span>master <span class="op">=</span> <span class="va">m_blocks</span>, block_ID <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V3_f2.png" width="350"></p>
<p><br></p>
</div>
<div class="section level3">
<h3 id="selection-of-sampling-sites-based-on-distinct-methods">Selection of sampling sites based on distinct methods<a class="anchor" aria-label="anchor" href="#selection-of-sampling-sites-based-on-distinct-methods"></a>
</h3>
<p>The common goal of the following processes is to select sites to be
sampled, but always including the preselected sites as part of the set
of points selected.</p>
<p><br></p>
<div class="section level4">
<h4 id="selection-of-sites-considering-environmental-uniformity-and-geographic-patterns">Selection of sites considering environmental uniformity and
geographic patterns<a class="anchor" aria-label="anchor" href="#selection-of-sites-considering-environmental-uniformity-and-geographic-patterns"></a>
</h4>
<p>The goal of this type of selection is maximizing uniformity of points
in environmental space, but considering geographic patterns of data.
Similar environments (form the same block) that have a disjoint
geographic pattern (are represented in geographic in various clusters)
are selected twice (so they consider the biggest geographic
clusters).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Selecting sites uniformly in E and G spaces</span></span>
<span><span class="va">EG_sel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EG_selection.html">EG_selection</a></span><span class="op">(</span>master <span class="op">=</span> <span class="va">m_blocks</span>, n_blocks <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Preparing data for analysis</span></span>
<span><span class="co">#&gt; Running distance optimization, please wait...</span></span>
<span><span class="co">#&gt; Selecting relevant environmental blocks, please wait...</span></span>
<span><span class="co">#&gt; Running algorithm for selecting sites, please wait...</span></span>
<span><span class="co">#&gt;     Process 1 of 10</span></span>
<span><span class="co">#&gt;     Process 2 of 10</span></span>
<span><span class="co">#&gt;     Process 3 of 10</span></span>
<span><span class="co">#&gt;     Process 4 of 10</span></span>
<span><span class="co">#&gt;     Process 5 of 10</span></span>
<span><span class="co">#&gt;     Process 6 of 10</span></span>
<span><span class="co">#&gt;     Process 7 of 10</span></span>
<span><span class="co">#&gt;     Process 8 of 10</span></span>
<span><span class="co">#&gt;     Process 9 of 10</span></span>
<span><span class="co">#&gt;     Process 10 of 10</span></span>
<span><span class="co">#&gt; Total number of sites selected: 26</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">EG_sel</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                   Summary of a master_selection object</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites preselected by user:</span></span>
<span><span class="co">#&gt;                Site  Longitude Latitude</span></span>
<span><span class="co">#&gt; 1           Chamela -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2       Los Tuxtlas  -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3            Chajul  -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4 Parque de Tlalpan  -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5  Parque Chipinque -100.35940 25.61750</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2 columns and 6 rows of first elements are shown</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected randomly:</span></span>
<span><span class="co">#&gt; Empty</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in G space:</span></span>
<span><span class="co">#&gt; Empty</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space:</span></span>
<span><span class="co">#&gt; Empty</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space, considering G structure:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 4477  -98.08333 20.41667</span></span></code></pre></div>
<p><br></p>
<p>Now let’s check the results of this selection in environmental and
geographic spaces. In this and future plots of selected sites, user
preselected sites will be plotted in red.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting sites selected uniformly in the geographic and in the environmental spaces</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_sel</span>, selection_type <span class="op">=</span> <span class="st">"EG"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V3_f3.png" width="350"></p>
<p><br></p>
<p>As you may have noticed, there are more points than what you defined
in the argument <em>n_blocks</em> in the function
<code>EG_selection</code>. This is because the function explores those
environmental blocks in geographic space and defines two points when the
geographic pattern of such points is clustered.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selecting-sites-randomly">Selecting sites randomly<a class="anchor" aria-label="anchor" href="#selecting-sites-randomly"></a>
</h4>
<p>Selecting survey sites randomly is one of the multiple ways to select
places to sample. Although it can be useful for avoiding some biases in
the selection, it is not recommended when trying to sample most of the
biodiversity in a region. The following lines of code will allow users
to select survey sites based on a random selection of available points.
This selection approach does not consider geographic or environmental
configurations.</p>
<p><strong>Note</strong>: We are going to use the object that resulted
from the previous process of selection (a
<strong>master_selection</strong> object) as it allows to add other sets
of selected sites to maintain your results organized.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of sites</span></span>
<span><span class="va">nsites</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">EG_sel</span><span class="op">$</span><span class="va">selected_sites_EG</span><span class="op">$</span><span class="va">selection_1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Selecting sites randomly</span></span>
<span><span class="va">EG_r_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/random_selection.html">random_selection</a></span><span class="op">(</span><span class="va">EG_sel</span>, n_sites <span class="op">=</span> <span class="va">nsites</span>, n_samplings <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Selecting sampling sites randomly</span></span>
<span><span class="co">#&gt; Total number of sites selected: 26</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">EG_r_selection</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                   Summary of a master_selection object</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites preselected by user:</span></span>
<span><span class="co">#&gt;                Site  Longitude Latitude</span></span>
<span><span class="co">#&gt; 1           Chamela -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2       Los Tuxtlas  -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3            Chajul  -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4 Parque de Tlalpan  -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5  Parque Chipinque -100.35940 25.61750</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2 columns and 6 rows of first elements are shown</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected randomly:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 1017 -103.58333 29.08333</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in G space:</span></span>
<span><span class="co">#&gt; Empty</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space:</span></span>
<span><span class="co">#&gt; Empty</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space, considering G structure:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 4477  -98.08333 20.41667</span></span></code></pre></div>
<p><br></p>
<p>Checking the sites selected randomly.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting randomly selected sites</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_selection</span>, selection_type <span class="op">=</span> <span class="st">"random"</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, </span>
<span>              variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V3_f4.png" width="350"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selection-of-sites-aiming-for-uniformity-in-geographic-space">Selection of sites aiming for uniformity in geographic space<a class="anchor" aria-label="anchor" href="#selection-of-sites-aiming-for-uniformity-in-geographic-space"></a>
</h4>
<p>With the following lines of code, survey sites can be selected so
they are located uniformly in geographic space, without considering
environmental conditions. This allows sampling most of the areas in the
region of interest.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Selecting sites uniformly in G space</span></span>
<span><span class="va">EG_r_G_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniformG_selection.html">uniformG_selection</a></span><span class="op">(</span><span class="va">EG_r_selection</span>, expected_points <span class="op">=</span> <span class="va">nsites</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Running distance optimization, please wait...</span></span>
<span><span class="co">#&gt; Running algorithm for selecting sites, please wait...</span></span>
<span><span class="co">#&gt;     Distance  181.62  resulted in  30  points</span></span>
<span><span class="co">#&gt;     Distance  199.782  resulted in  24  points</span></span>
<span><span class="co">#&gt;     Distance  217.944  resulted in  23  points</span></span>
<span><span class="co">#&gt;     Distance  236.106  resulted in  20  points</span></span>
<span><span class="co">#&gt;     Distance  217.944  resulted in  23  points</span></span>
<span><span class="co">#&gt;     Distance  219.7602  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  221.5764  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  223.3926  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  225.2088  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  227.025  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  228.8412  resulted in  20  points</span></span>
<span><span class="co">#&gt;     Distance  227.025  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  227.20662  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  227.38824  resulted in  21  points</span></span>
<span><span class="co">#&gt; Total number of sites selected: 26</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                   Summary of a master_selection object</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites preselected by user:</span></span>
<span><span class="co">#&gt;                Site  Longitude Latitude</span></span>
<span><span class="co">#&gt; 1           Chamela -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2       Los Tuxtlas  -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3            Chajul  -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4 Parque de Tlalpan  -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5  Parque Chipinque -100.35940 25.61750</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2 columns and 6 rows of first elements are shown</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected randomly:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 1017 -103.58333 29.08333</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in G space:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 1017 -103.58333 29.08333</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space:</span></span>
<span><span class="co">#&gt; Empty</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space, considering G structure:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 4477  -98.08333 20.41667</span></span></code></pre></div>
<p><br></p>
<p>Let’s check the selected sites based only on geographic
considerations.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting sites selected uniformly in the geographic space</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span>, selection_type <span class="op">=</span> <span class="st">"G"</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, </span>
<span>              variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V3_f5.png" width="350"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="selecting-sites-aiming-for-uniformity-in-environmental-space">Selecting sites aiming for uniformity in environmental space<a class="anchor" aria-label="anchor" href="#selecting-sites-aiming-for-uniformity-in-environmental-space"></a>
</h4>
<p>With the following lines of code you can select sampling sites that
are uniformly distributed in environmental space. This will allow
sampling most of the environmental conditions that are present in the
region of interest.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Selecting sites uniformly in E space</span></span>
<span><span class="va">EG_r_G_E_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniformE_selection.html">uniformE_selection</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span>, expected_points <span class="op">=</span> <span class="va">nsites</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Running distance optimization, please wait...</span></span>
<span><span class="co">#&gt; Running algorithm for selecting sites, please wait...</span></span>
<span><span class="co">#&gt;     Distance  0.81  resulted in  35  points</span></span>
<span><span class="co">#&gt;     Distance  0.891  resulted in  29  points</span></span>
<span><span class="co">#&gt;     Distance  0.972  resulted in  27  points</span></span>
<span><span class="co">#&gt;     Distance  1.053  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.134  resulted in  20  points</span></span>
<span><span class="co">#&gt;     Distance  1.053  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.0611  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.0692  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.0773  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.0854  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.0935  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.1016  resulted in  20  points</span></span>
<span><span class="co">#&gt;     Distance  1.0935  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.09431  resulted in  22  points</span></span>
<span><span class="co">#&gt;     Distance  1.09512  resulted in  21  points</span></span>
<span><span class="co">#&gt; Total number of sites selected: 26</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">EG_r_G_E_selection</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                   Summary of a master_selection object</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites preselected by user:</span></span>
<span><span class="co">#&gt;                Site  Longitude Latitude</span></span>
<span><span class="co">#&gt; 1           Chamela -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2       Los Tuxtlas  -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3            Chajul  -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4 Parque de Tlalpan  -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5  Parque Chipinque -100.35940 25.61750</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2 columns and 6 rows of first elements are shown</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected randomly:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 1017 -103.58333 29.08333</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in G space:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 1017 -103.58333 29.08333</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 1081 -105.41667 28.91667</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sites selected uniformly in E space, considering G structure:</span></span>
<span><span class="co">#&gt;       Longitude Latitude</span></span>
<span><span class="co">#&gt; 1    -105.04479 19.50090</span></span>
<span><span class="co">#&gt; 2     -95.07419 18.58489</span></span>
<span><span class="co">#&gt; 3     -90.94067 16.17000</span></span>
<span><span class="co">#&gt; 4     -99.19778 19.29139</span></span>
<span><span class="co">#&gt; 5    -100.35940 25.61750</span></span>
<span><span class="co">#&gt; 4477  -98.08333 20.41667</span></span></code></pre></div>
<p><br></p>
<p>Let’s check the selected sites based only on environmental
considerations.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting sites selected uniformly in the environmental space</span></span>
<span><span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_G_E_selection</span>, selection_type <span class="op">=</span> <span class="st">"E"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V3_f6.png" width="350"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Claudia Nuñez-Penichet, Marlon E. Cobos, Jorge Soberón, Tomer Gueta, Narayani Barve, Vijay Barve, Adolfo G. Navarro-Sigüenza, A. Townsend Peterson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
