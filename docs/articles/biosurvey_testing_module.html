<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="biosurvey">
<title>biosurvey: Testing efficiency of selected sites • biosurvey</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="biosurvey: Testing efficiency of selected sites">
<meta property="og:description" content="biosurvey">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">biosurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/biosurvey_preparing_data.html">biosurvey: Preparing data</a>
    <a class="dropdown-item" href="../articles/biosurvey_selecting_sites.html">biosurvey: Selecting sampling sites</a>
    <a class="dropdown-item" href="../articles/biosurvey_selection_with_preselected_sites.html">biosurvey: Selecting sampling sites using preselected points</a>
    <a class="dropdown-item" href="../articles/biosurvey_testing_module.html">biosurvey: Testing efficiency of selected sites</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/claununez/biosurvey/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>biosurvey: Testing efficiency of selected sites</h1>
                        <h4 data-toc-skip class="author">Claudia
Nunez-Penichet, Marlon E. Cobos, Jorge Soberon, Tomer Gueta, Narayani
Barve, Vijay Barve, Adolfo G. Navarro-Siguenza, A. Townsend Peterson,
Weverton Trindade (ctb), Can Elverici (ctb)</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/claununez/biosurvey/blob/HEAD/vignettes/biosurvey_testing_module.Rmd" class="external-link"><code>vignettes/biosurvey_testing_module.Rmd</code></a></small>
      <div class="d-none name"><code>biosurvey_testing_module.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h3>
<p>Before we start, we would like to clarify that the examples used here
are for demonstration purposes only. The functions in the testing module
of this package are intended to use when appropriate data is available.
This is, a considerable amount of good-quality data is needed to produce
a presence-absence matrix and have a good representation of biodiversity
in a region. For these reasons, we recommend to use these functions with
caution and only when appropriate.</p>
<p><br></p>
</div>
<div class="section level3">
<h3 id="preparing-data-to-test-efficiency-of-selected-sites">Preparing data to test efficiency of selected sites<a class="anchor" aria-label="anchor" href="#preparing-data-to-test-efficiency-of-selected-sites"></a>
</h3>
<div class="section level4">
<h4 id="preparing-presence-absence-matrix">Preparing presence-absence matrix<a class="anchor" aria-label="anchor" href="#preparing-presence-absence-matrix"></a>
</h4>
<p>With the following lines of code we are going to prepare a
presence-absence matrix (PAM) in which all initial points of interest
(rows) will have a representation of presence or absence of the species
in such areas (as columns). The initial points of interest will be
represented by an ID, and longitude and latitude coordinates. The result
of this process is a <strong>base_PAM</strong> object that will be used
in further processes.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="va">m_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/save_master.html">read_master</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/m_matrix.rds"</span>,</span>
<span>                                    package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">species_data</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/species_data.gpkg"</span>,</span>
<span>                                        package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create base_pam</span></span>
<span><span class="va">b_pam</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prepare_base_PAM.html">prepare_base_PAM</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">species_data</span>, master_matrix <span class="op">=</span> <span class="va">m_matrix</span>, </span>
<span>                          cell_size <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; Preparing spatial grid</span></span>
<span><span class="co">#&gt; Preprocessing 'data'</span></span>
<span><span class="co">#&gt; |======================================================================| 100%</span></span>
<span><span class="co">#&gt; Preparing PAM from information</span></span>
<span><span class="co">#&gt; Calculating PAM indices</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">b_pam</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                       Summary of a base_PAM object</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Presence-absence matrix:</span></span>
<span><span class="co">#&gt;   Number of cells:    927</span></span>
<span><span class="co">#&gt;   Number of species:  25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Spatial object representing the PAM:</span></span>
<span><span class="co">#&gt;  class       : SpatVector </span></span>
<span><span class="co">#&gt;  geometry    : polygons </span></span>
<span><span class="co">#&gt;  dimensions  : 927, 28  (geometries, attributes)</span></span>
<span><span class="co">#&gt;  extent      : -118.4677, -86.55536, 14.55027, 32.92406  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt;  coord. ref. : lon/lat WGS 84 </span></span>
<span><span class="co">#&gt;  names       :    ID Longitude Latitude Species_1 Species_2 Species_3 Species_4 Species_5</span></span>
<span><span class="co">#&gt;  type        : &lt;num&gt;     &lt;num&gt;    &lt;num&gt;     &lt;num&gt;     &lt;num&gt;     &lt;num&gt;     &lt;num&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt;  values      :    75    -117.3    32.68         0         0         0         0         0</span></span>
<span><span class="co">#&gt;                   76    -116.8    32.68         0         0         0         0         0</span></span>
<span><span class="co">#&gt;                   77    -116.3    32.68         0         0         0         0         0</span></span>
<span><span class="co">#&gt;  Species_6 Species_7 (and 18 more)</span></span>
<span><span class="co">#&gt;      &lt;num&gt;     &lt;num&gt;              </span></span>
<span><span class="co">#&gt;          0         0              </span></span>
<span><span class="co">#&gt;          0         0              </span></span>
<span><span class="co">#&gt;          0         0 </span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="indices-of-biodiversity-derived-from-base_pam">Indices of biodiversity derived from base_PAM<a class="anchor" aria-label="anchor" href="#indices-of-biodiversity-derived-from-base_pam"></a>
</h4>
<p>Various biodiversity indices can be calculated from a PAM. The
function used below calculates all indices described in <a href="https://journals.ku.edu/jbi/article/view/4801" class="external-link">Soberon and Cavner
(2015)</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculating indices</span></span>
<span><span class="va">b_pam</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/PAM_indices.html">PAM_indices</a></span><span class="op">(</span>PAM <span class="op">=</span> <span class="va">b_pam</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for a brief view of all indices use</span></span>
<span><span class="co">#print(b_pam)</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div class="section level3">
<h3 id="using-base_pam-to-check-efficiency-of-sampling-site-approaches">Using base_PAM to check efficiency of sampling site approaches<a class="anchor" aria-label="anchor" href="#using-base_pam-to-check-efficiency-of-sampling-site-approaches"></a>
</h3>
<div class="section level4">
<h4 id="subsetting-the-pam-according-to-selected-sites">Subsetting the PAM according to selected sites<a class="anchor" aria-label="anchor" href="#subsetting-the-pam-according-to-selected-sites"></a>
</h4>
<p>Example of a <strong>master_selection</strong> object obtained using
three types of selection (random, uniform in G, and uniform in E).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="va">m_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/save_master.html">read_master</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/m_selection.rds"</span>,</span>
<span>                                       package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now let’s subset the <strong>base_PAM</strong> object according to
the sites that were selected for sampling.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset of base PAM according to selections</span></span>
<span><span class="co">## using all selections the time</span></span>
<span><span class="va">sub_pam_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/subset_PAM.html">subset_PAM</a></span><span class="op">(</span><span class="va">b_pam</span>, <span class="va">m_selection</span>, selection_type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="species-accumulation-curves-for-sampling-sites-using-subsets-of-base_pam">Species accumulation curves for sampling sites using subsets of
base_PAM<a class="anchor" aria-label="anchor" href="#species-accumulation-curves-for-sampling-sites-using-subsets-of-base_pam"></a>
</h4>
<p>The following line helps to perform analyses to represent diversity
in selected sites based on species accumulation curves (SACs) created
using subsets of <strong>base_PAM</strong>. SACs are performed using a
process that randomizes the effect of sites.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># species accumulation curves for all selected sites based on PAM</span></span>
<span><span class="va">SACs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selected_sites_SAC.html">selected_sites_SAC</a></span><span class="op">(</span>PAM_subset <span class="op">=</span> <span class="va">sub_pam_all</span>, selection_type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="checking-how-much-biodiversity-is-sampled-using-distinct-sampling-sites">Checking how much biodiversity is sampled using distinct sampling
sites<a class="anchor" aria-label="anchor" href="#checking-how-much-biodiversity-is-sampled-using-distinct-sampling-sites"></a>
</h4>
<p>Plots of species accumulation curves, for sites selected based on
distinct methods, are used to detect which ones perform better or worse
in representing the biodiversity in the region of interest.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## all sets at the time</span></span>
<span><span class="fu"><a href="../reference/plot_SAC.html">plot_SAC</a></span><span class="op">(</span>SAC_selected_sites <span class="op">=</span> <span class="va">SACs</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f1.png" width="313"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="paired-comparison-of-sacs">Paired comparison of SACs<a class="anchor" aria-label="anchor" href="#paired-comparison-of-sacs"></a>
</h4>
<p>These plots will help us to compare the species richness that can be
recovered using distinct methods for selecting sampling sites.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># random vs uniform in E</span></span>
<span><span class="fu"><a href="../reference/compare_SAC.html">compare_SAC</a></span><span class="op">(</span>SAC_selected_sites <span class="op">=</span> <span class="va">SACs</span>, element_1 <span class="op">=</span> <span class="fl">1</span>, element_2 <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f2.png" width="288"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># random vs uniform in G</span></span>
<span><span class="fu"><a href="../reference/compare_SAC.html">compare_SAC</a></span><span class="op">(</span>SAC_selected_sites <span class="op">=</span> <span class="va">SACs</span>, element_1 <span class="op">=</span> <span class="fl">1</span>, element_2 <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f3.png" width="288"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># uniform in E vs uniform in G</span></span>
<span><span class="fu"><a href="../reference/compare_SAC.html">compare_SAC</a></span><span class="op">(</span>SAC_selected_sites <span class="op">=</span> <span class="va">SACs</span>, element_1 <span class="op">=</span> <span class="fl">2</span>, element_2 <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f4.png" width="288"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="dissimilarity-indices-for-sampling-sites-using-subsets-of-base_pam">Dissimilarity indices for sampling sites using subsets of
base_PAM<a class="anchor" aria-label="anchor" href="#dissimilarity-indices-for-sampling-sites-using-subsets-of-base_pam"></a>
</h4>
<p>The next line of code will compute dissimilarity indices for sets of
selected sites contained in the elements of sub_pam_all, which have
information of species incidence (presence-absence). Calculations are
done also among sets of selected sites.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># calculating dissimilarities</span></span>
<span><span class="va">DI_sel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selected_sites_DI.html">selected_sites_DI</a></span><span class="op">(</span>PAM_subset <span class="op">=</span> <span class="va">sub_pam_all</span>, selection_type <span class="op">=</span> <span class="st">"all"</span>, </span>
<span>                            method <span class="op">=</span> <span class="st">"jaccard"</span><span class="op">)</span></span></code></pre></div>
<p>The results can be visualized in a matrix-like plots. In this type of
representation, warmer colors represent higher dissimilarities.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plots derived from dissimilarity calculations (matrix-like)</span></span>
<span><span class="fu"><a href="../reference/plot_DI.html">plot_DI</a></span><span class="op">(</span><span class="va">DI_sel</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f5.png" width="290"></p>
<p>The dissimilarities among sets of selected sites can also be plotted
as a dendrogram. The y-axis is representing how different the sets are
based on distances.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plots derived from dissimilarity calculations (dendrogram)</span></span>
<span><span class="fu"><a href="../reference/DI_dendrogram.html">DI_dendrogram</a></span><span class="op">(</span><span class="va">DI_sel</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f6.png" width="290"></p>
<p>The previous plots compared sets of selected sites obtained with
different approaches of selection. These functions can be used to
visualize the results of a specific type of selection. For example, to
explore how similar are the sites selected by sampling uniformly in
geographic space with a matrix-like plot we can use:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matrix-like plot derived from dissimilarity calculations for uniform in G selection</span></span>
<span><span class="fu"><a href="../reference/plot_DI.html">plot_DI</a></span><span class="op">(</span><span class="va">DI_sel</span>, selection_type <span class="op">=</span> <span class="st">"G"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f7.png" width="290"></p>
<p>Another example is included on the next line of code. Here the
similarity of sites selected considering a uniform sampling in the
environmental space is represented as a dendrogram.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dendrogram plot derived from dissimilarity calculations for uniform in E selection</span></span>
<span><span class="fu"><a href="../reference/DI_dendrogram.html">DI_dendrogram</a></span><span class="op">(</span><span class="va">DI_sel</span>, selection_type <span class="op">=</span> <span class="st">"E"</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f8.png" width="290"></p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="biodiversity-indices-and-selected-sites">Biodiversity indices and selected sites<a class="anchor" aria-label="anchor" href="#biodiversity-indices-and-selected-sites"></a>
</h4>
<p>These plots will give us an idea of how rich or unique are the sites
selected in terms of the species in the PAM.</p>
<p>Let’s start with species richness:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># random selection</span></span>
<span><span class="fu"><a href="../reference/plot_PAM_geo.html">plot_PAM_geo</a></span><span class="op">(</span><span class="va">b_pam</span>, master_selection <span class="op">=</span> <span class="va">m_selection</span>, selection_type <span class="op">=</span> <span class="st">"random"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adding a legend for better interpretations</span></span>
<span><span class="co">## this color palette is the same used by default in plots (purplow)</span></span>
<span><span class="va">colpal</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/purplow.html">purplow</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span> </span>
<span><span class="va">labs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">b_pam</span><span class="op">$</span><span class="va">PAM_indices</span><span class="op">$</span><span class="va">Richness</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/legend_bar.html">legend_bar</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, col <span class="op">=</span> <span class="va">colpal</span>, title <span class="op">=</span> <span class="st">"Richness"</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f9.png" width="267"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># G selection</span></span>
<span><span class="fu"><a href="../reference/plot_PAM_geo.html">plot_PAM_geo</a></span><span class="op">(</span><span class="va">b_pam</span>, master_selection <span class="op">=</span> <span class="va">m_selection</span>, selection_type <span class="op">=</span> <span class="st">"G"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adding the legend </span></span>
<span><span class="fu"><a href="../reference/legend_bar.html">legend_bar</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, col <span class="op">=</span> <span class="va">colpal</span>, title <span class="op">=</span> <span class="st">"Richness"</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f10.png" width="267"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># E selection</span></span>
<span><span class="fu"><a href="../reference/plot_PAM_geo.html">plot_PAM_geo</a></span><span class="op">(</span><span class="va">b_pam</span>, master_selection <span class="op">=</span> <span class="va">m_selection</span>, selection_type <span class="op">=</span> <span class="st">"E"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adding the legend </span></span>
<span><span class="fu"><a href="../reference/legend_bar.html">legend_bar</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, col <span class="op">=</span> <span class="va">colpal</span>, title <span class="op">=</span> <span class="st">"Richness"</span>, labels <span class="op">=</span> <span class="va">labs</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f11.png" width="267"></p>
<p><br></p>
<p>The next index represents how unique is the set of species in each
cell in the PAM. Having the selected sites on top of this map helps to
assess how well or sites will be sampling interesting areas in the
region of interest.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># random selection (using another palette)</span></span>
<span><span class="fu"><a href="../reference/plot_PAM_geo.html">plot_PAM_geo</a></span><span class="op">(</span><span class="va">b_pam</span>, index <span class="op">=</span> <span class="st">"MCC"</span>, master_selection <span class="op">=</span> <span class="va">m_selection</span>, </span>
<span>             selection_type <span class="op">=</span> <span class="st">"random"</span>, col_pal <span class="op">=</span> <span class="va">greeple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adding the appropriate legend </span></span>
<span><span class="va">colpal1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/purplow.html">greeple</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">labs1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">b_pam</span><span class="op">$</span><span class="va">PAM_indices</span><span class="op">$</span><span class="va">Mean_composition_covariance</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/legend_bar.html">legend_bar</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, col <span class="op">=</span> <span class="va">colpal1</span>, title <span class="op">=</span> <span class="st">"Mean comp-covar"</span>, </span>
<span>           labels <span class="op">=</span> <span class="va">labs1</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f12.png" width="267"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># G selection</span></span>
<span><span class="fu"><a href="../reference/plot_PAM_geo.html">plot_PAM_geo</a></span><span class="op">(</span><span class="va">b_pam</span>, index <span class="op">=</span> <span class="st">"MCC"</span>, master_selection <span class="op">=</span> <span class="va">m_selection</span>, </span>
<span>             selection_type <span class="op">=</span> <span class="st">"G"</span>, col_pal <span class="op">=</span> <span class="va">greeple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adding the legend</span></span>
<span><span class="fu"><a href="../reference/legend_bar.html">legend_bar</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, col <span class="op">=</span> <span class="va">colpal1</span>, title <span class="op">=</span> <span class="st">"Mean comp-covar"</span>, </span>
<span>           labels <span class="op">=</span> <span class="va">labs1</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f13.png" width="267"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># E selection</span></span>
<span><span class="fu"><a href="../reference/plot_PAM_geo.html">plot_PAM_geo</a></span><span class="op">(</span><span class="va">b_pam</span>, index <span class="op">=</span> <span class="st">"MCC"</span>, master_selection <span class="op">=</span> <span class="va">m_selection</span>, </span>
<span>             selection_type <span class="op">=</span> <span class="st">"E"</span>, col_pal <span class="op">=</span> <span class="va">greeple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adding the legend</span></span>
<span><span class="fu"><a href="../reference/legend_bar.html">legend_bar</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, col <span class="op">=</span> <span class="va">colpal1</span>, title <span class="op">=</span> <span class="st">"Mean comp-covar"</span>, </span>
<span>           labels <span class="op">=</span> <span class="va">labs1</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette_img/V4_f14.png" width="267"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Claudia Nuñez-Penichet, Marlon E. Cobos, Jorge Soberón, Tomer Gueta, Narayani Barve, Vijay Barve, Adolfo G. Navarro-Sigüenza, A. Townsend Peterson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
